name: image_encoder_build_run_stream_fp16

frontend:
  shape:
    img: [1, 3, 800, 1333]
  checkpoint:  /path/to/img_encoder_groundingdino_swint_ogc_custom_op.onnx
  type: onnx
  dtype: fp32

backend:
  type: tvm_vacc
  dtype: fp16
  compile:
    data_transport_mode: 1
    enable_float_to_half: true
    enable_groundingdino_axis_change: true
    enable_groundingdino_cut_layernorm: true
    opt_level: 2
    output_layout:
    - 0:YX

dataset:
  process_ops:
  - type: DecodeImage
  - type: Resize
    size:
    - 800
    - 1333
  - type: Normalize
    mean:
    - 0.485
    - 0.456
    - 0.406
    std:
    - 0.229
    - 0.224
    - 0.225
  - type: ToTensor
  
workspace:
  path: ./deploy_weights
